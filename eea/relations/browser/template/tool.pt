<tal:block tal:define="foo python:request.set('disable_plone.leftcolumn', 1);
                       foo python:request.set('disable_plone.rightcolumn', 1)"/>
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="eea">

<head>

<metal:javascript fill-slot="javascript_head_slot">
  <script tal:attributes="src string:$portal_url/++resource++eea.relations.js/raphael.js" type="text/javascript"></script>
  <script tal:attributes="src string:$portal_url/++resource++eea.relations.js/dracula_graffle.js" type="text/javascript"></script>
  <script tal:attributes="src string:$portal_url/++resource++eea.relations.js/dracula_graph.js" type="text/javascript"></script>
  <script tal:attributes="src string:$portal_url/++resource++eea.relations.js/tool.js" type="text/javascript"></script>
</metal:javascript>

<metal:style_slot fill-slot="style_slot">
  <link href="++resource++eea.relations.css/tool.css" rel="stylesheet" type="text/css" media="screen" />
</metal:style_slot>

</head>

<body>

<div metal:fill-slot="content-core">

<metal:relationerror use-macro="context/eea_relations_macros/macros/errors">

<metal:body fill-slot="body">

  <div class="eea-relations">
    <div class="wrapper">
      <div class="graph" id="eea-relations-graph" data-height="600"></div>

      <div class="eea-portalrelations-menu">
        <a href="badrelations.html"
           title="List all relations that don't comply portal_relations schema"
           i18n:translate=""
           i18n:attributes="title"
           tal:attributes="href string:${here/absolute_url}/@@badrelations.html">List of bad relations</a> |
      </div>
    </div>

    <div class="left">
      <tal:viewlet replace="structure here/@@contenttypes.html" />
    </div>

    <div class="right">
      <tal:viewlet replace="structure here/@@relations.html" />
    </div>

  </div>

  <div class="visualClear"></div>

</metal:body>
</metal:relationerror>

</div>

</body>
</html>
